<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/..\FrameXML\UI.xsd">
	<Script file="listbase.lua"/>
	<Script file="ruleitem.lua"/>
	<Script file="ruleslist.lua"/>


    <Frame name="Vendor_Rule_Numeric_Param" virtual="true" visble="false" inherits="Vendor_Edit" letters="4">
        <Size x="80" y="28"/>
        <Layers>
            <Layer level="ARTWORK">
                <FontString parentKey="Label" justifyH="RIGHT" justifyV="MIDDLE" inherits="GameFontNormalSmall">
                    <Size x="250" y="14"/>
                    <Anchors>
                        <Anchor point="TOPRIGHT" relativePoint="TOPLEFT" x="-4"/>
                        <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMLEFT" x="-4"/>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
    </Frame>

    <Button name="Vendor_Tooltip_Button" virtual="true">
        <Scripts>
            <OnEnter>
                if (self.tooltip) then
                    GameTooltip:SetOwner(self, "ANCHOR_BOTTOM");
                    GameTooltip:SetText(self.tooltip);
                    GameTooltip:Show();
                end
            </OnEnter>
            <OnLeave>
                if (GameTooltip:GetOwner() == self) then
                    GameTooltip:Hide()
                end
            </OnLeave>
        </Scripts>
    </Button>

   	<Frame name="Vendor_Rules_List" virtual="true" inherits="Vendor_FrameBorder">
        <KeyValues>
            <KeyValue key="Implementation" value="RulesList" type="string"/>
        </KeyValues>
		<Layers>
			<Layer level="OVERLAY">
				<FontString inherits="GameFontHighlight" justifyV="TOP" justifyH="CENTER" parentKey="emptyText">
					<Anchors>
						<Anchor point="TOPLEFT" x="16" y="-16"/>
						<Anchor point="BOTTOMRIGHT" x="-16" y="16"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<ScrollFrame parentKey="List" inherits="UIPanelScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" x="5" y="-6"/>
					<Anchor point="BOTTOMRIGHT" x="-5" y="6"/>
				</Anchors>
				<ScrollChild>
					<Frame>
						<Anchor point="TOPLEFT"/>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnLoad>Vendor.LoadImplementation(self);</OnLoad>
		</Scripts>
	</Frame>

	<!-- -->
	<Button name="Vendor_Rule_Template" virtual="true">
		<Size x="396" y="64"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="background" setAllPoints="true" hidden="true"/>
                <Texture parentKey="custom" hidden="true" file="Interface\Worldmap\Gear_64Grey" alpha="0.15">
                    <Size x="54" y="54"/>
                    <Anchors>
                        <Anchor point="RIGHT" x="-28"/>
                    </Anchors>
                </Texture>
                <Texture parentKey="extension" hidden="true" file="Interface\GossipFrame\HealerGossipIcon" alpha="0.15">
                    <Size x="54" y="54"/>
                    <Anchors>
                        <Anchor point="RIGHT" x="-28"/>
                    </Anchors>
                </Texture>				
				<Texture parentKey="unhealthy" hidden="true" file="Interface\RAIDFRAME\ReadyCheck-NotReady" alpha="0.4">
					<Size x="54" y="54"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</Texture>
				<Texture parentKey="migration" hidden="true" file="Interface\DialogFrame\UI-Dialog-Icon-AlertNew" alpha="0.25">
					<Size x="54" y="54"/>
					<Anchors>
						<Anchor point="LEFT" x="2"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture ParentKey="divider">
					<Size x="1" y="1"/>
					<Color r="0.6" g="0.6" b="0.6" a="0.3"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="8" />
						<Anchor point="BOTTOMRIGHT" x="-8" />
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="-1">
				<Texture parentKey="highlight" file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar-Blue" alpha="0.3" alphaMode="ADD" hidden="true">
					<TexCoords left="0.2" right="0.8" top="0" bottom="1"/>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="Selected" file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar" alpha="0.2" alphaMode="ADD" hidden="true">
					<TexCoords left="0.2" right="0.8" top="0" bottom="1"/>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
                <Texture parentKey="check" file="Interface\Buttons\UI-CheckBox-Check">
                    <Size x="20" y="20"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" x="2" y="-4"/>
                    </Anchors>
                </Texture>
				<FontString parentKey="name" inherits="GameFontHighlightLarge" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.check" relativePoint="TOPRIGHT"  x="4" y="0"/>
						<Anchor point="TOPRIGHT" x="-32" y="-24"/>
					</Anchors>
				</FontString>
				<FontString parentKey="text" inherits="GameFontNormalSmall" justifyH="LEFT" justifyV="TOP" wordwrap="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.name" relativePoint="BOTTOMLEFT" x="0" y="-2"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-32" y="6"/>
					</Anchors>
				</FontString>
				<FontString parentKey="migrationText" hidden="true" inherits="GameFontRedSmall" justifyH="LEFT"  justifyV="MIDDLE"
					text="Warning: This rule was created with a non-compatible version of World of Warcraft, please open the rule and verify it">
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent.text" relativePoint="TOP"/>
						<Anchor point="LEFT" relativeKey="$parent.migration" relativePoint="RIGHT" x="2"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.text"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
        <Frames>
            <Button parentKey="moveUp" inherits="Vendor_Tooltip_Button">
                <Size x="24" y="24"/>
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-4" y="32"/>
                </Anchors>
				<NormalTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollUp-Up"/>
				<PushedTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollUp-Down"/>
				<DisabledTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollUp-Disabled"/>
				<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
                <Scripts>
					<OnClick>local parent = self:GetParent();parent:GetParent():ChangeRuleOrder(parent, -1)</OnClick>
                </Scripts>
            </Button>
			<Button parentKey="moveDown" inherits="Vendor_Tooltip_Button">
                <Size x="24" y="24"/>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" x="-4" y="32"/>
				</Anchors>
				<NormalTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Up"/>
				<PushedTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Down"/>
				<DisabledTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Disabled"/>
				<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
				<Scripts>
					<OnClick>local parent = self:GetParent();parent:GetParent():ChangeRuleOrder(parent, 1)</OnClick>
				</Scripts>
			</Button>
            <Frame parentKey="paramArea">
                <Size x="1" y="1"/>
                <Anchors>
                    <Anchor point="TOPRIGHT" relativeKey="$parent.name" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
                    <Anchor point="BOTTOMRIGHT" x="-32" y="6"/>
                </Anchors>
            </Frame>
        </Frames>
		<HighlightTexture file="Interface\PVPFrame\PvPMegaQueue" alphaMode="ADD">
			<Anchors>
				<Anchor point="TOPLEFT" x="12" y="0"/>
				<Anchor point="BOTTOMRIGHT" x="-12" y="0"/>
			</Anchors>
			<TexCoords left="0.00195313" right="0.63867188" top="0.70703125" bottom="0.76757813"/>
		</HighlightTexture>
		<Scripts>
			<OnLoad>self:RegisterForClicks("LeftButtonUp","RightButtonUp");</OnLoad>
            <OnClick>self:OnClick(button)</OnClick>
            <OnEnter>self:OnMouseEnter()</OnEnter>
            <OnLeave>self:OnMouseLeave()</OnLeave>
		</Scripts>
	</Button>

	<Button name="Vendor_Base_RuleItem" virtual="true">
		<Size x="1" y="24"/>
		<KeyValues>
			<KeyValue key="collpasedHeight" value="24" type="number"/>
		</KeyValues>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="-1">
				<Texture parentKey="Hover" file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar-Blue" alpha="0.4" alphaMode="ADD" hidden="true">
					<TexCoords left="0.2" right="0.8" top="0" bottom="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="1"/>
						<Anchor point="BOTTOMRIGHT" x="-3"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="Selected" file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar-Blue" alpha="0.2" alphaMode="ADD" hidden="true">
					<TexCoords left="0.2" right="0.8" top="0" bottom="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="1"/>
						<Anchor point="BOTTOMRIGHT" x="-3"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
                <Texture parentKey="Check" file="Interface\RAIDFRAME\ReadyCheck-Ready" hidden="true">
                    <Size x="20" y="20"/>
                   <Anchors>
                        <Anchor point="TOPLEFT" x="4" y="-2"/>
                    </Anchors>
                </Texture>
				<FontString parentKey="Name" inherits="GameFontHighlightLarge" justifyH="LEFT" JustifyV="MIDDLE">
					<Anchors>
						<Anchor point="TOP"/>
						<Anchor point="TOPLEFT" relativeKey="$parent.Check" relativePoint="TOPRIGHT"  x="8"/>
						<Anchor point="BOTTOM" relativeKey="$parent.Check" relativePoint="BOTTOM"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="Params" hidden="true">
				<Size x="1" y="10"/>
				<Anchors>
					<Anchor point="LEFT" x="8"/>
					<Anchor point="RIGHT" x="-8"/>
					<Anchor point="TOP" relativeKey="$parent.Name" relativePoint="BOTTOM"/>
				</Anchors>
			</Frame>
		</Frames>
	</Button>

	<Button name="Vendor_RuleItem_Simple" virtual="true" inherits="Vendor_Base_RuleItem"/>

</Ui>
