<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/..\FrameXML\UI.xsd">

    <Frame name = "BaseVendorSimpleRuleTemplate" virtual="true" visble="false" parentArray="Rules">
        <Size x="250" y="64"/>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture parentKey="OddBackground" hidden="true">
                    <Color r="1" g="1" b="1" a="0.10"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" realtivePoint="TOPLEFT"/>
                        <Anchor point="BOTTOMRIGHT" realtivePoint="BOTTOMRIGHT"/>
                    </Anchors>
                </Texture>
                <Texture parentKey="Highlight" hidden="true">
                    <Color r="0" g="0" b="1.0" a="0.25"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" realtivePoint="TOPLEFT"/>
                        <Anchor point="BOTTOMRIGHT" realtivePoint="BOTTOMRIGHT"/>
                    </Anchors>
                </Texture>
            </Layer>        
        </Layers>
        <Frames>
            <CheckButton name="$parentEnabled" parentKey="Enabled" inherits="OptionsBaseCheckButtonTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" x="2" y="0"/>
                </Anchors>  
                <Scripts>
                    <OnClick>if (self:GetParent().ToggleRuleState) then self:GetParent():ToggleRuleState() end</OnClick>
                </Scripts>
            </CheckButton>
        </Frames>       
        <Scripts>
            <OnEnter>self.Highlight:Show()</OnEnter>
            <OnLeave>self.Highlight:Hide()</OnLeave>
        </Scripts>
    </Frame>


    <Frame name="VendorSimpleRuleTemplate" virtual="true" visble="false" inherits="BaseVendorSimpleRuleTemplate">
        <Size x="250" y="64"/>
        <Layers>
            <Layer level="ARTWORK">
                <FontString parentKey="RuleName" inherits="GameFontHighlightLarge" justifyH="LEFT">
                    <Anchors>
                        <Anchor point="TOPLEFT"  x="32" y="-4"/>
                        <Anchor point="TOPRIGHT" x="-4" relativeTo="TOPRIGHT" y="-24"/>
                    </Anchors>
                </FontString>
                <FontString parentKey="RuleDescription" inherits="GameFontNormalSmall" justifyH="LEFT" justifyV="TOP"  wordwrap="true">
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeKey="$parent.RuleName" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                        <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-4" y="4"/>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
    </Frame>
    
    <Frame name="VendorRuleTemplateWithItemLevel" virtual="true" visble="false"  inherits="BaseVendorSimpleRuleTemplate">
        <Size x="250" y="64"/>
        <Layers>
            <Layer level="ARTWORK">
                <FontString parentKey="RuleName" inherits="GameFontHighlightLarge" justifyH="LEFT">
                    <Anchors>
                        <Anchor point="TOPLEFT"  x="32" y="-4"/>
                        <Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" x="-4" y="-24"/>
                    </Anchors>
                </FontString>
                <FontString parentKey="RuleDescription" inherits="GameFontNormalSmall" justifyH="LEFT" justifyV="TOP" wordwrap="true">
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeKey="$parent.RuleName" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
                        <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-72" y="4"/>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
            <EditBox name="$parentItemLevel" parentKey="ItemLevel" inherits="InputBoxTemplate" letters="4" numeric="true" autoFocus="false" multiLne="false" enabled="false">
                <Size x="58" y="18"/>
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-4" y="8"/>
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <FontString parentKey="Label" justifyH="LEFT" justifyV="MIDDLE" inherits="GameFontNormalSmall" text="ITEM_LEVEL_LABEL">
                            <Size x="100" y="12"/>
                            <Anchors>
                                <Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" y="2"/>
                            </Anchors>
                        </FontString>
                    </Layer>                
                </Layers>
                <Scripts>
                    <OnShow>self.Label:SetTextColor(GRAY_FONT_COLOR.r, GRAY_FONT_COLOR.g, GRAY_FONT_COLOR.b)</OnShow>
                    <OnDisable>
                        self:SetTextColor(GRAY_FONT_COLOR.r, GRAY_FONT_COLOR.g, GRAY_FONT_COLOR.b)
                        self.Label:SetTextColor(GRAY_FONT_COLOR.r, GRAY_FONT_COLOR.g, GRAY_FONT_COLOR.b)
                    </OnDisable>
                    <OnEnable>
                        self:SetTextColor(HIGHLIGHT_FONT_COLOR.r, HIGHLIGHT_FONT_COLOR.g, HIGHLIGHT_FONT_COLOR.b)
                        self.Label:SetTextColor(HIGHLIGHT_FONT_COLOR.r, HIGHLIGHT_FONT_COLOR.g, HIGHLIGHT_FONT_COLOR.b)
                    </OnEnable>
                </Scripts>
            </EditBox>
        </Frames>
    </Frame>

    <Frame name="VendorSystemRuleList" virtual="true" enableMouse="true">
        <Frames>
            <ScrollFrame name="$parentView" parentKey="View" inherits="FauxScrollFrameTemplate">
            	<Anchors>
            		<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="6" y="-6"/>
            		<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="-28" y="-6"/>
            		<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" x="6" y="6"/>
            		<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-28" y="6"/>>
            	</Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture>
                            <Size x="20" y="20"/>
                            <Color r="0" g="0" b="0" a="0.5"/>
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="4" y="-2"/>
                                <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="4" y="2"/>
                            </Anchors>
                        </Texture>              
                    </Layer>        
                </Layers>           
                <Scripts>
                    <OnVerticalScroll>
                        local parent = self:GetParent()
                        FauxScrollFrame_OnVerticalScroll(self, offset, parent.RuleFrameSize, function() Vendor.RulesUI.UpdateRuleList(parent) end)
                    </OnVerticalScroll>
                    <OnShow>Vendor.RulesUI.UpdateRuleList(self:GetParent())</OnShow>
                </Scripts>
            </ScrollFrame>
        </Frames>
    </Frame>

    <Frame name="VendorSellSystemRuleList" inherits="VendorSystemRuleList" virtual="true">
        <Scripts>
            <OnLoad>
                Vendor.RulesUI.InitRuleList(self, Vendor.c_RuleType_Sell, Vendor.SystemRules.Sell)
            </OnLoad>
        </Scripts>
    </Frame>

    <Frame name="VendorKeepSystemRuleList" inherits="VendorSystemRuleList" virtual="true">
        <Scripts>
            <OnLoad>
                Vendor.RulesUI.InitRuleList(self, Vendor.c_RuleType_Keep, Vendor.SystemRules.Keep)
            </OnLoad>
        </Scripts>
    </Frame>    
    
	<!--
	==================================================================================================================================
	-->

	<Frame name="VendorRulesDialog" toplevel="true" parent="UIParent" hidden="true" enableMouse="true" frameStrata="HIGH">
		<Size x="858" y="622"/>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="11" top="12" bottom="10"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture name="$parentHeader" file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size x="300" y="68"/>
					<Anchors>
						<Anchor point="TOP" x="0" y="12"/>
					</Anchors>
				</Texture>
				<FontString name="$parentHeaderText" inherits="GameFontNormal" text="DIALOG_CAPTION" parentKey="Caption">
					<Anchors>
						<Anchor point="TOP" relativeTo="$parentHeader" x="0" y="-14"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentCancel" inherits="UIPanelButtonTemplate" text="CANCEL">
				<Size>
					<AbsDimension x="96" y="22"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" x="-22" y="16"/>
				</Anchors>
				<Scripts>
                    <OnClick function="PortraitFrameCloseButton_OnClick"/>
				</Scripts>
			</Button>
			<Button name="$parentOkay" inherits="UIPanelButtonTemplate" text="OKAY">
				<Size>
					<AbsDimension x="96" y="22"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativeTo="$parentCancel" relativePoint="BOTTOMLEFT"/>
				</Anchors>
				<Scripts>
					<OnClick>Vendor.RulesUI.RulesDialog_OnOk(VendorRulesDialog)</OnClick>
				</Scripts>				
			</Button>		
			<Button name="$parentDefaults" inherits="UIPanelButtonTemplate" text="DEFAULTS">
				<Size x="96" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="22" y="16"/>
				</Anchors>
				<Scripts>
					<OnClick>Vendor.RulesUI.RulesDialog_SetDefaults(VendorRulesDialog)</OnClick>
				</Scripts>
			</Button>

			<Frame name="$parentSellPanel" parentKey="SellPanel" hidden="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="22" y="-40"/>
					<Anchor point="BOTTOMLEFT" relativeTo="$parentDefaults" relativePoint="TOPLEFT" x="0" y="4"/>
					<Anchor point="RIGHT" x="-22" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="$parentHeaderText" justifyH="LEFT" justifyV="TOP" inherits="GameFontNormal" text="!!!!! Instructional text for sell page this should be a very long string that can wrap severla times to help the user out" parentKey="TopText">
							<Anchors>
								<Anchor point="TOPLEFT" x="16" y="-16"/>
								<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" x="-16" y="-52"/>
							</Anchors>
						</FontString>				
					</Layer>
				</Layers>
				<Frames>
		            <Frame name="$parentSellList" parentKey="List" inherits="VendorSellSystemRuleList">
						<Backdrop edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true" bgFile="Interface\Tooltips\UI-Tooltip-Background">
							<EdgeSize><AbsValue val="16"/></EdgeSize>
							<TileSize><AbsValue val="16"/></TileSize>
							<BackgroundInsets>
								<AbsInset left="5" right="5" top="5" bottom="5"/>
							</BackgroundInsets>
						</Backdrop>
		                <Anchors>
		                    <Anchor point="TOPLEFT" relativeTo="$parentHeaderText" relativePoint="BOTTOMLEFT" x="0" y="-8"/>
	                    	<Anchor point="BOTTOMRIGHT" x="-16" y="16"/>
	                	</Anchors>
	            	</Frame>
	            </Frames>
			</Frame>
			
			<Frame name="$parentKeepPanel" parentKey="KeepPanel" hidden="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="22" y="-40"/>
					<Anchor point="BOTTOMLEFT" relativeTo="$parentDefaults" relativePoint="TOPLEFT" x="0" y="4"/>
					<Anchor point="RIGHT" x="-22" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="$parentHeaderText" justifyH="LEFT" justifyV="TOP" inherits="GameFontNormal" text="!!!!! Instructional text for sell page this should be a very long string that can wrap severla times to help the user out" parentKey="TopText">
							<Anchors>
								<Anchor point="TOPLEFT" x="16" y="-16"/>
								<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" x="-16" y="-52"/>
							</Anchors>
						</FontString>				
					</Layer>
				</Layers>
				<Frames>
		            <Frame name="$parentSellList" parentKey="List" inherits="VendorKeepSystemRuleList">
						<Backdrop edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true" bgFile="Interface\Tooltips\UI-Tooltip-Background">
							<EdgeSize><AbsValue val="16"/></EdgeSize>
							<TileSize><AbsValue val="16"/></TileSize>
							<BackgroundInsets>
								<AbsInset left="5" right="5" top="5" bottom="5"/>
							</BackgroundInsets>
						</Backdrop>
		                <Anchors>
		                    <Anchor point="TOPLEFT" relativeTo="$parentHeaderText" relativePoint="BOTTOMLEFT" x="0" y="-8"/>
	                    	<Anchor point="BOTTOMRIGHT" x="-16" y="16"/>
	                	</Anchors>
	            	</Frame>
	            </Frames>
			</Frame>
			
			<Frame name="$parentCustomPanel" parentKey="CustomPanel" hidden="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="22" y="-40"/>
					<Anchor point="BOTTOMLEFT" relativeTo="$parentDefaults" relativePoint="TOPLEFT" x="0" y="4"/>
					<Anchor point="RIGHT" x="-22" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="$parentHeaderText" inherits="GameFontHighlightHuge" text="NOT-YET-IMPLEMENTED" parentKey="TopText" setAllPoints="true">
						</FontString>				
					</Layer>
				</Layers>
			</Frame>

			<Frame name="$parentContainer" parentKey="Container">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="22" y="-40"/>
					<Anchor point="BOTTOMLEFT" relativeTo="$parentDefaults" relativePoint="TOPLEFT" x="0" y="4"/>
					<Anchor point="RIGHT" x="-22" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="$parentTopLeft" file="Interface\Tooltips\UI-Tooltip-Border">
							<Size x="16" y="16"/>
							<Anchors>
								<Anchor point="TOPLEFT"/>
							</Anchors>
							<TexCoords left="0.5" right="0.625" top="0" bottom="1"/>
						</Texture>
						<Texture name="$parentBottomLeft" file="Interface\Tooltips\UI-Tooltip-Border">
							<Size  x="16" y="16"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT"/>
							</Anchors>
							<TexCoords left="0.75" right="0.875" top="0" bottom="1"/>
						</Texture>
						<Texture name="$parentBottomRight" file="Interface\Tooltips\UI-Tooltip-Border">
							<Size x="16" y="16"/>
							<Anchors>
								<Anchor point="BOTTOMRIGHT"/>
							</Anchors>
							<TexCoords left="0.875" right="1" top="0" bottom="1"/>
						</Texture>
						<Texture name="$parentTopRight" file="Interface\Tooltips\UI-Tooltip-Border">
							<Size x="16" y="16"/>
							<Anchors>
								<Anchor point="TOPRIGHT"/>
							</Anchors>
							<TexCoords left="0.625" right="0.75" top="0" bottom="1"/>
						</Texture>
						<Texture name="$parentLeft" file="Interface\Tooltips\UI-Tooltip-Border">
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="$parentTopLeft" relativePoint="BOTTOMLEFT"/>
								<Anchor point="BOTTOMRIGHT" relativeTo="$parentBottomLeft" relativePoint="TOPRIGHT"/>
							</Anchors>
							<TexCoords left="0" right="0.125" top="0" bottom="1"/>
						</Texture>
						<Texture name="$parentRight" file="Interface\Tooltips\UI-Tooltip-Border">
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="$parentTopRight" relativePoint="BOTTOMLEFT"/>
								<Anchor point="BOTTOMRIGHT" relativeTo="$parentBottomRight" relativePoint="TOPRIGHT"/>
							</Anchors>
							<TexCoords left="0.125" right="0.25" top="0" bottom="1"/>
						</Texture>
						<Texture name="$parentBottom" file="Interface\OptionsFrame\UI-OptionsFrame-Spacer">
							<Size>
								<AbsDimension x="0" y="16"/>
							</Size>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativeTo="$parentBottomLeft" relativePoint="BOTTOMRIGHT" x="0" y="-2"/>
								<Anchor point="BOTTOMRIGHT" relativeTo="$parentBottomRight" relativePoint="BOTTOMLEFT"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Frame>		
			<Button name="$parentTab1" inherits="OptionsFrameTabButtonTemplate" text="KEEP_TAB" id="1" parentKey="KeepTab">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="$parentContainer" relativePoint="TOPLEFT" x="6" y="-3"/>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(SOUNDKIT.IG_CHARACTER_INFO_TAB)
						PanelTemplates_Tab_OnClick(self, VendorRulesDialog);
						Vendor.RulesUI.RuleDialog_ShowTab(VendorRulesDialog, 1)
					</OnClick>
				</Scripts>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="$parentSpacer1" file="Interface\OptionsFrame\UI-OptionsFrame-Spacer" hidden="true">
							<Size x="85" y="16"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-10" y="-6"/>
								<Anchor point="RIGHT" relativeTo="VendorRulesDialogContainerTopRight" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Button>
			<Button name="$parentTab2" inherits="OptionsFrameTabButtonTemplate" text="SELL_TAB" id="2" parentKey="SellTab">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTab1" relativePoint="TOPRIGHT" x="-16" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="$parentSpacer1" file="Interface\OptionsFrame\UI-OptionsFrame-Spacer" hidden="true">
							<Size x="64" y="16"/>
							<Anchors>
								<Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="BOTTOMLEFT" x="11" y="-6"/>
								<Anchor point="LEFT" relativeTo="VendorRulesDialogContainerTopLeft" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture name="$parentSpacer2" file="Interface\OptionsFrame\UI-OptionsFrame-Spacer" hidden="true">
							<Size x="16" y="16"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="BOTTOMRIGHT" x="-9" y="-6"/>
								<Anchor point="RIGHT" relativeTo="VendorRulesDialogContainerTopRight" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
					</Layer>						
				</Layers>
				<Scripts>
					<OnClick>
						PlaySound(SOUNDKIT.IG_CHARACTER_INFO_TAB);
						PanelTemplates_Tab_OnClick(self, VendorRulesDialog);
						Vendor.RulesUI.RuleDialog_ShowTab(VendorRulesDialog, 2)
					</OnClick>
				</Scripts>								
			</Button>
			<Button name="$parentTab3" inherits="OptionsFrameTabButtonTemplate" text="CUSTOM_TAB" id="3" parentKey="CustomTab">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTab2" relativePoint="TOPRIGHT" x="-16" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="$parentSpacer1" file="Interface\OptionsFrame\UI-OptionsFrame-Spacer" hidden="true">
							<Size x="64" y="16"/>
							<Anchors>
								<Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="BOTTOMLEFT" x="11" y="-6"/>
								<Anchor point="LEFT" relativeTo="VendorRulesDialogContainerTopLeft" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture name="$parentSpacer2" file="Interface\OptionsFrame\UI-OptionsFrame-Spacer" hidden="true">
							<Size x="16" y="16"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="BOTTOMRIGHT" x="-9" y="-6"/>
								<Anchor point="RIGHT" relativeTo="VendorRulesDialogContainerTopRight" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick>
						PlaySound(SOUNDKIT.IG_CHARACTER_INFO_TAB);
						PanelTemplates_Tab_OnClick(self, VendorRulesDialog);
						Vendor.RulesUI.RuleDialog_ShowTab(VendorRulesDialog, 3)
					</OnClick>
				</Scripts>								
			</Button>			
		</Frames>
		<Scripts>
			<OnLoad>Vendor.RulesUI.RuleDialog_OnLoad(self)</OnLoad>
			<OnShow>PlaySound(SOUNDKIT.IG_CHARACTER_INFO_OPEN)</OnShow>
            <OnHide>PlaySound(SOUNDKIT.IG_CHARACTER_INFO_CLOSE)</OnHide>            
		</Scripts>
	</Frame>    
</Ui>
